@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Edit";
}
@model ZADANIE5finalfinal.Models.Klient

<h3>
    Edit person
</h3>

<form asp-action="Edit" method="post">
    <div class="form-group">
        <label asp-for="Name">
            Name
        </label>
        <input asp-for="Name" type="text" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="Surname">
            Surname
        </label>
        <input asp-for="Surname" type="text" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="PESEL">
            Pesel
        </label>
        <input asp-for="PESEL" type="text" class="form-control id="PESEL" onfocusout="AutoWrite()" />
    </div>
    <div class="form-group">
        <label asp-for="BirthYear">
            Rok Urodzenia
        </label>
        <input asp-for="BirthYear" type="number" class="form-control" id="BirthYear" readonly/>
    </div>
    <div class="form-group">
        <label asp-for="Płeć">
            Płeć
        </label>
        <input asp-for="Płeć" type="number" class="form-control" id="Płeć" readonly />
    </div>
    <button type="submit" class="btn btn-primary">
        Submit
    </button>

</form>

<script>
    const AutoWrite = () => {
        const BirthDateInput = document.querySelector("#BirthYear")
        const SexInput = document.querySelector("#Płeć")

        let Pesel = PeselInput.value;

        if (Pesel.length != 11) return;


        if (Pesel[9] === '1' || Pesel[9] === '3' || Pesel[9] === '5' || Pesel[9] === '7' || Pesel[9] === '9') SexInput.value = 1;
        else SexInput.value = 0;

        let prefix;
        if (Pesel[2] === '2' || Pesel[2]==='3') prefix = "20";
        else prefix = "19";

        BirthDateInput.value = prefix + Pesel[0] + Pesel[1]
    }

    const PeselInput = document.querySelector("#PESEL")



</script>
